#include <stdio.h>
#define MAX 20

int main() {

    int matrix[MAX][MAX];

    int i, j;

    int dimen;

    int max = 0;
    int min = 0;

    printf("Insert matrix dimensions: \n");
    scanf("%d", &dimen);

    printf("Start entering them: \n");
    
    //Enter the matrix elements and find out which one has the highest and the lowest value.
    for(i = 0; i < dimen; i++){
        for(j = 0; j < dimen; j++){
            scanf("%d", &matrix[i][j]);
            if(i == 0 && j == 0){
                min = max = matrix[i][j];
            }else if(max < matrix[i][j]){
                max = matrix[i][j];
            }else if(min > matrix[i][j]){
                min = matrix[i][j];
            }
        }
    }

    //Replacing the values on the main diagonal with the value of the difference between the highest and the lowest value.
    for(i = 0, j = 0; i < dimen, j < dimen; i++, j++){
        matrix[i][j] = max - min;
    }
    
    //Another solution to swap the values.
    for(i = 0; i < dimen; i++){
        matrix[i][i] = max - min;
    }
       
    //Print out the matrix with the swapped values.
    for(i = 0; i < dimen; ++i){
        printf("\n");
        for(j = 0; j < dimen; ++j){
            printf("%d\t", matrix[i][j]);
        }
    }

    return 0;
}
